# üåê Internationalisation & Ressources Locales (I18N)

SoftLicence supporte la gestion multi-langue (actuellement **Anglais** et **Fran√ßais**) et est con√ßu pour fonctionner dans des environnements industriels restreints sans acc√®s Internet.

## üõ†Ô∏è Configuration

La localisation c√¥t√© serveur est g√©r√©e par `IStringLocalizer` et des fichiers de ressources (`.resx`) situ√©s dans le dossier `Resources/`.

- **Langue par d√©faut** : Anglais (`en`).
- **Langues support√©es** : Anglais (`en`), Fran√ßais (`fr`).

Pour changer la langue par d√©faut, modifiez le fichier `Program.cs` :
```csharp
app.UseRequestLocalization(options => {
    options.SetDefaultCulture("en"); // Changez en "fr" pour le fran√ßais
    // ...
});
```

## üì¶ Ressources Locales (Mode Hors-Ligne)

Toutes les d√©pendances de l'interface utilisateur sont h√©berg√©es localement dans `wwwroot/lib/` pour garantir que la console d'administration fonctionne sans CDN ou connexion Internet.

### Bootstrap
- **CSS** : `wwwroot/lib/bootstrap/css/bootstrap.min.css`
- **JS** : `wwwroot/lib/bootstrap/js/bootstrap.bundle.min.js`

### Ic√¥nes de Drapeaux
Les drapeaux sont stock√©s dans `wwwroot/lib/flags/`. Ils sont utilis√©s dans le s√©lecteur de langue et le journal d'audit.

## üö© Ajouter une nouvelle langue

Si vous souhaitez ajouter une nouvelle langue (ex: Espagnol - `es`) :

### 1. Fichiers de ressources
1. Cr√©ez une copie de `SharedResource.en.resx` et renommez-la en `SharedResource.es.resx`.
2. Traduisez toutes les balises `<value>` √† l'int√©rieur du XML.

### 2. T√©l√©charger le drapeau
T√©l√©chargez l'ic√¥ne du drapeau correspondant (16x12 pixels recommand√©s) depuis un fournisseur comme [FlagCDN](https://flagcdn.com/).
**Exemple via PowerShell :**
```powershell
Invoke-WebRequest -Uri "https://flagcdn.com/16x12/es.png" -OutFile "src/SoftLicence.Server/wwwroot/lib/flags/es.png"
```

### 3. Mettre √† jour l'UI
Dans `src/SoftLicence.Server/Components/Layout/MainLayout.razor`, ajoutez la nouvelle langue au menu d√©roulant :
```html
<li>
    <a class="dropdown-item d-flex align-items-center gap-2" href="/Culture/Set?culture=es&redirectUri=@System.Net.WebUtility.UrlEncode(Nav.Uri)">
        <img src="lib/flags/es.png" width="16" height="12" alt="ES" /> Espa√±ol
    </a>
</li>
```

### 4. Activer dans Program.cs
Ajoutez le code de la culture √† la liste des cultures support√©es dans `Program.cs` :
```csharp
var supportedCultures = new[] { "en", "fr", "es" };
```
